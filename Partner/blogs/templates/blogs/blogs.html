{% extends 'main/base.html'%}
{%load static%}

   
    {%block head%}
    <link href="{% static 'css/blogs.css' %}" rel="stylesheet" />

    {%endblock%}
    {%block title%}<title>Blog</title>{%endblock%}

     {%block content%}
<div class="row">
    <div class="challenge-area col-md-4 d-flex flex-column justify-content-center align-items-center ">
       
        <div >
            <h4 class="my-2 head-challenge">
                Language Challenge
            </h4>
            <form class="d-flex flex-column gap-3 justify-content-center ">
               
                <div class="quiz-area py-5">
                    <p class="my-3 fs-4 text-center"> 
                        Q: Some text here <span class="head-challenge">?</span>            
                    </p>
                </div>
               
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                    <label class="form-check-label" for="flexRadioDefault1">
                      <span class="radio-label">A</span>
                      Default radio
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2" checked>
                    <label class="form-check-label" for="flexRadioDefault2">
                      <span class="radio-label">B</span>
                      Default checked radio
                    </label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault3">
                    <label class="form-check-label" for="flexRadioDefault3">
                      <span class="radio-label">C</span>
                      Default radio
                    </label>
                  </div>
                  <div class="d-flex justify-content-between my-3">
                    <button type="submit" class="btn btn-success rounded-pill mb-3">Edit</button>

                    <button type="submit" class="btn btn-orange rounded-pill mb-3">Verify</button>
                  </div>
            </form>
            <div class="correct-answer-block">
                Congriglitions Your ansewr is correct 
            </div>
            <div class="wrong-answer-block">
                Nice Try, but Your ansewr is wrong !
                <p>the correct answer is " something"</p>
            </div>
        </div>
    </div>
    <div class="bolgs-area col-md-8 container-fluid ">
        
        <div class="border-bottom py-2">
            <h1 class="   text-center itim-regular  ">Blogs
            </h1>
            <a href="{%url 'blogs:new_blog_view'%}" class="btn btn-orange-white rounded-pill ">Add</a>
        </div>
        <div class="d-flex justify-content-end row"> 
            <form class=" py-2" method="get" action="{%url 'blogs:blogs_all_view'%}">
                <div class="filtring-and-search   gap-1 d-flex justify-content-center ">
                    <input type="search" class="form-control " placeholder="Search" value="{{request.GET.search}}" name="search" minlength="1"/>
                    <select name="filter_by_lang" class="form-select ">
                        <option value="" selected disabled>Language</option> 
                        {% for language in languages%}
                        <option value="{{language.id}}" {%if request.GET.filter_by_lang == language.id %} selected {%endif%}>{{language.native_name}}</option>
                        {%endfor%}
                    </select>
                    <select name="order_by" class="form-select">
                        <option value="" disabled selected>Order by</option>
                        <option value="date" {%if request.GET.order_by == date %} selected {%endif%}>Date</option>
                    </select>
                    <input type="submit" class="btn rounded-pill btn-orange text-white " value="Apply"/>
                    <a href="" class="btn btn-secondary rounded-pill text-white " value="clear">Clear </a>
                </div>
            </form>
        </div>

        <div class="row gap-2 justify-content-center mt-5">
            {% for blog in blogs%}
                <a href="{%url 'blogs:blog_details_view' blog.id%}" class="col-md-5 mb-5">
                    <div class="dropdown">
                        <p class="dropbtn btn-posts rounded-pill fs-6 py-2 px-5 fw-bold text-center">{{blog.title|truncatechars:25}}</p>
                        <div class="dropdown-content rounded-4 ">
                        
                            <div class="d-flex bg-light  rounded-4">
                                <img src="{{blog.image.url}}" alt="Blog Image" class="w-50 dropdown-img" style="object-fit: cover;">
                                <div class="text p-3 w-100">
                                    <h6 class="text-dark ">{{blog.title|truncatechars:45}}</h6>
                                    <p class="text-dark ">{{blog.content|truncatechars:20}}</p>
                                    <p class="text-dark fw-bold">{{blog.language.name|truncatechars:20}}</p>
                                </div> 
                            </div>
                        </div>
                      </div>
                    </a>
                {%endfor%}
                 
                            
             
          </div>
          <br/><br/>
          <navbar aria-label="Page navigation example">
            <ul class="pagination justify-content-center">
            
                {% if blogs.has_previous %}
                    <li class="page-item">
                        <a class="page-link" href="?page=1" aria-label="First">
                            <span aria-hidden="true"> First</span>
                        </a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="?page={{ blogs.previous_page_number }}" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                {% else %}
                    <li class="page-item disabled">
                        <span class="page-link" aria-hidden="true"> First</span>
                    </li>
                    <li class="page-item disabled">
                        <span class="page-link" aria-hidden="true">&laquo;</span>
                    </li>
                {% endif %}
    
                {% for num in blogs.paginator.page_range %}
                    {% if num == blogs.number %}
                        <li class="page-item active" aria-current="page">
                            <span class="page-link">{{ num }}</span>
                        </li>
                    {% else %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                        </li>
                    {% endif %}
                {% endfor %}
        
                {% if blogs.has_next %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ blogs.next_page_number }}" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="?page={{ blogs.paginator.num_pages }}" aria-label="Last">
                            <span aria-hidden="true">Last </span>
                        </a>
                    </li>
                {% else %}
                    <li class="page-item disabled">
                        <span class="page-link" aria-hidden="true">&raquo;</span>
                    </li>
                    <li class="page-item disabled">
                        <span class="page-link" aria-hidden="true">Last</span>
                    </li>
                {% endif %}
            </ul>
        </navbar>
    </div>
</div>

    
     
     {%endblock%}